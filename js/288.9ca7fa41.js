"use strict";(self["webpackChunkminha_pwa"]=self["webpackChunkminha_pwa"]||[]).push([[288],{4288:function(i,e,r){r.r(e),r.d(e,{default:function(){return v}});var o=r(641),c=r(33);const a={class:"detalhe-container"},n={key:0,class:"details"},t={class:"ficheiro-section"},s={key:0,class:"ficheiro-alerta"},l={key:1},h=["src"],u=["src"],f=["href"],d={key:1,class:"not-found"};function k(i,e,r,k,m,p){return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("button",{class:"back-button",onClick:e[0]||(e[0]=e=>i.$router.back())},"←"),e[7]||(e[7]=(0,o.Lk)("h1",{class:"title"},"Detalhes da Ocorrência",-1)),m.ocorrencia?((0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("p",null,[e[2]||(e[2]=(0,o.Lk)("strong",null,"ID:",-1)),(0,o.eW)(" "+(0,c.v_)(m.ocorrencia.id),1)]),(0,o.Lk)("p",null,[e[3]||(e[3]=(0,o.Lk)("strong",null,"Descrição:",-1)),(0,o.eW)(" "+(0,c.v_)(m.ocorrencia.descricao),1)]),(0,o.Lk)("p",null,[e[4]||(e[4]=(0,o.Lk)("strong",null,"Localização:",-1)),(0,o.eW)(" "+(0,c.v_)(m.ocorrencia.localizacao),1)]),(0,o.Lk)("p",null,[e[5]||(e[5]=(0,o.Lk)("strong",null,"Data e Hora:",-1)),(0,o.eW)(" "+(0,c.v_)(m.ocorrencia.dataHora),1)]),(0,o.Lk)("p",null,[e[6]||(e[6]=(0,o.Lk)("strong",null,"Estado:",-1)),(0,o.eW)(" "+(0,c.v_)(m.ocorrencia.estado),1)]),(0,o.Lk)("div",t,[(0,o.Lk)("button",{class:"ficheiro-button",onClick:e[1]||(e[1]=(...i)=>p.verFicheiro&&p.verFicheiro(...i))}," Visualizar Ficheiro "),m.ficheiroInexistente?((0,o.uX)(),(0,o.CE)("p",s,"Sem ficheiro disponível.")):(0,o.Q3)("",!0),m.mostrarImagem?((0,o.uX)(),(0,o.CE)("div",l,["imagem"===m.ficheiroTipo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:m.ocorrencia.ficheiro,class:"imagem-anexo"},null,8,h)):"pdf"===m.ficheiroTipo?((0,o.uX)(),(0,o.CE)("iframe",{key:1,src:m.ocorrencia.ficheiro,class:"ficheiro-frame",frameborder:"0"},null,8,u)):((0,o.uX)(),(0,o.CE)("a",{key:2,href:m.ocorrencia.ficheiro,target:"_blank"},"Abrir ficheiro",8,f))])):(0,o.Q3)("",!0)])])):((0,o.uX)(),(0,o.CE)("div",d," Ocorrência não encontrada. "))])}r(8111),r(116);var m={props:["id"],data(){return{ocorrencia:null,mostrarImagem:!1,ficheiroInexistente:!1,ficheiroTipo:null}},mounted(){const i=this.$route.params.id,e=JSON.parse(localStorage.getItem("ocorrencias"))||[];this.ocorrencia=e.find((e=>String(e.id)===i)),this.ocorrencia||console.error("Ocorrência não encontrada.")},methods:{verFicheiro(){if(this.ocorrencia?.ficheiro){this.ficheiroInexistente=!1,this.mostrarImagem=!0;const i=this.ocorrencia.ficheiro.split(";")[0];i.includes("image")?this.ficheiroTipo="imagem":i.includes("pdf")?this.ficheiroTipo="pdf":this.ficheiroTipo="outro"}else this.mostrarImagem=!1,this.ficheiroInexistente=!0}}},p=r(6262);const g=(0,p.A)(m,[["render",k],["__scopeId","data-v-e481691c"]]);var v=g}}]);
//# sourceMappingURL=288.9ca7fa41.js.map