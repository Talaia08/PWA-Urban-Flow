{"version":3,"file":"js/288.9ca7fa41.js","mappings":"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","sources":["webpack://minha-pwa/./src/components/OcorrenciaDetalhe.vue","webpack://minha-pwa/./src/components/OcorrenciaDetalhe.vue?822a"],"sourcesContent":["<template>\r\n  <div class=\"detalhe-container\">\r\n    <button class=\"back-button\" @click=\"$router.back()\">&#8592;</button>\r\n    <h1 class=\"title\">Detalhes da Ocorrência</h1>\r\n\r\n    <div v-if=\"ocorrencia\" class=\"details\">\r\n      <p><strong>ID:</strong> {{ ocorrencia.id }}</p>\r\n      <p><strong>Descrição:</strong> {{ ocorrencia.descricao }}</p>\r\n      <p><strong>Localização:</strong> {{ ocorrencia.localizacao }}</p>\r\n      <p><strong>Data e Hora:</strong> {{ ocorrencia.dataHora }}</p>\r\n      <p><strong>Estado:</strong> {{ ocorrencia.estado }}</p>\r\n\r\n      <div class=\"ficheiro-section\">\r\n        <button class=\"ficheiro-button\" @click=\"verFicheiro\">\r\n          Visualizar Ficheiro\r\n        </button>\r\n        <p v-if=\"ficheiroInexistente\" class=\"ficheiro-alerta\">Sem ficheiro disponível.</p>\r\n        <!-- Apresentação condicional baseada no tipo -->\r\n        <div v-if=\"mostrarImagem\">\r\n          <template v-if=\"ficheiroTipo === 'imagem'\">\r\n            <img :src=\"ocorrencia.ficheiro\" class=\"imagem-anexo\" />\r\n          </template>\r\n          <template v-else-if=\"ficheiroTipo === 'pdf'\">\r\n            <iframe :src=\"ocorrencia.ficheiro\" class=\"ficheiro-frame\" frameborder=\"0\"></iframe>\r\n          </template>\r\n          <template v-else>\r\n            <a :href=\"ocorrencia.ficheiro\" target=\"_blank\">Abrir ficheiro</a>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"not-found\">\r\n      Ocorrência não encontrada.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['id'],\r\n  data() {\r\n    return {\r\n      ocorrencia: null,\r\n      mostrarImagem: false,\r\n      ficheiroInexistente: false,\r\n      ficheiroTipo: null\r\n    };\r\n  },\r\n  mounted() {\r\n    const id = this.$route.params.id;\r\n    const ocorrencias = JSON.parse(localStorage.getItem('ocorrencias')) || [];\r\n    this.ocorrencia = ocorrencias.find((o) => String(o.id) === id);\r\n\r\n    if (!this.ocorrencia) {\r\n      console.error('Ocorrência não encontrada.');\r\n    }\r\n  },\r\n  methods: {\r\n    verFicheiro() {\r\n      if (this.ocorrencia?.ficheiro) {\r\n        this.ficheiroInexistente = false;\r\n        this.mostrarImagem = true;\r\n\r\n        // Detectar tipo de ficheiro\r\n        const tipo = this.ocorrencia.ficheiro.split(';')[0];\r\n        if (tipo.includes('image')) {\r\n          this.ficheiroTipo = 'imagem';\r\n        } else if (tipo.includes('pdf')) {\r\n          this.ficheiroTipo = 'pdf';\r\n        } else {\r\n          this.ficheiroTipo = 'outro';\r\n        }\r\n      } else {\r\n        this.mostrarImagem = false;\r\n        this.ficheiroInexistente = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.detalhe-container {\r\n  background-color: white;\r\n  color: black;\r\n  padding: 20px;\r\n  min-height: 100vh;\r\n}\r\n\r\n.back-button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n}\r\n\r\n.title {\r\n  font-size: 24px;\r\n  margin: 20px 0;\r\n}\r\n\r\n.details p {\r\n  font-size: 18px;\r\n  margin: 10px 0;\r\n}\r\n\r\n.not-found {\r\n  font-size: 18px;\r\n  color: red;\r\n}\r\n\r\n.ficheiro-section {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.ficheiro-button {\r\n  padding: 10px 20px;\r\n  background-color: #0c0548;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 20px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.ficheiro-alerta {\r\n  margin-top: 10px;\r\n  color: #ff0000;\r\n  font-weight: bold;\r\n}\r\n\r\n.imagem-anexo {\r\n  margin-top: 15px;\r\n  max-width: 100%;\r\n  max-height: 300px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 10px;\r\n}\r\n\r\n/* Estilo para o iframe quando for um PDF */\r\n.ficheiro-frame {\r\n  width: 100%;\r\n  height: 500px;\r\n  margin-top: 15px;\r\n  border-radius: 10px;\r\n  border: 1px solid #ccc;\r\n}\r\n</style>\r\n","import { render } from \"./OcorrenciaDetalhe.vue?vue&type=template&id=e481691c&scoped=true\"\nimport script from \"./OcorrenciaDetalhe.vue?vue&type=script&lang=js\"\nexport * from \"./OcorrenciaDetalhe.vue?vue&type=script&lang=js\"\n\nimport \"./OcorrenciaDetalhe.vue?vue&type=style&index=0&id=e481691c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e481691c\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","onClick","_cache","$event","_ctx","$router","back","$data","ocorrencia","_hoisted_2","_createTextVNode","_toDisplayString","id","descricao","localizacao","dataHora","estado","_hoisted_3","args","$options","verFicheiro","ficheiroInexistente","_hoisted_4","_createCommentVNode","mostrarImagem","_hoisted_5","ficheiroTipo","src","ficheiro","_hoisted_6","frameborder","_hoisted_7","href","target","_hoisted_8","_hoisted_9","props","data","mounted","this","$route","params","ocorrencias","JSON","parse","localStorage","getItem","find","o","String","console","error","methods","tipo","split","includes","__exports__","render"],"sourceRoot":""}